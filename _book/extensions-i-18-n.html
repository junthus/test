
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>i-18-n Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="extensions-web-navigation.html" />
    
    
    <link rel="prev" href="extensions-types.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div class="book-logo">
    
    <img src="/images/logo.png"/>
    
</div>
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="extensions-api-index.html">
            
                <a href="extensions-api-index.html">
            
                    
                    API INDEX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    system
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="extensions-system-cpu.html">
            
                <a href="extensions-system-cpu.html">
            
                    
                    system-cpu
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="extensions-system-memory.html">
            
                <a href="extensions-system-memory.html">
            
                    
                    system-memory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="extensions-system-storage.html">
            
                <a href="extensions-system-storage.html">
            
                    
                    system-storage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="extensions-management.html">
            
                <a href="extensions-management.html">
            
                    
                    management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="extensions-alarms.html">
            
                <a href="extensions-alarms.html">
            
                    
                    alarms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="extensions-messaging.html">
            
                <a href="extensions-messaging.html">
            
                    
                    messaging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="extensions-api-index.html">
            
                <a href="extensions-api-index.html">
            
                    
                    api-index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="extensions-notifications.html">
            
                <a href="extensions-notifications.html">
            
                    
                    notifications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="extensions-automation.html">
            
                <a href="extensions-automation.html">
            
                    
                    automation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="extensions-omnibox.html">
            
                <a href="extensions-omnibox.html">
            
                    
                    omnibox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="extensions-bookmarks.html">
            
                <a href="extensions-bookmarks.html">
            
                    
                    bookmarks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="extensions-override.html">
            
                <a href="extensions-override.html">
            
                    
                    override
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="extensions-browser-action.html">
            
                <a href="extensions-browser-action.html">
            
                    
                    browser-action
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="extensions-page-action.html">
            
                <a href="extensions-page-action.html">
            
                    
                    page-action
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="extensions-browsing-data.html">
            
                <a href="extensions-browsing-data.html">
            
                    
                    browsing-data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="extensions-page-capture.html">
            
                <a href="extensions-page-capture.html">
            
                    
                    page-capture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="extensions-commands.html">
            
                <a href="extensions-commands.html">
            
                    
                    commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="extensions-permissions.html">
            
                <a href="extensions-permissions.html">
            
                    
                    permissions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="extensions-content-settings.html">
            
                <a href="extensions-content-settings.html">
            
                    
                    content-settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="extensions-power.html">
            
                <a href="extensions-power.html">
            
                    
                    power
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="extensions-context-menus.html">
            
                <a href="extensions-context-menus.html">
            
                    
                    context-menus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="extensions-printer-provider.html">
            
                <a href="extensions-printer-provider.html">
            
                    
                    printer-provider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="extensions-cookies.html">
            
                <a href="extensions-cookies.html">
            
                    
                    cookies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="extensions-privacy.html">
            
                <a href="extensions-privacy.html">
            
                    
                    privacy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25" data-path="extensions-debugger.html">
            
                <a href="extensions-debugger.html">
            
                    
                    debugger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26" data-path="extensions-processes.html">
            
                <a href="extensions-processes.html">
            
                    
                    processes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27" data-path="extensions-declarative-content.html">
            
                <a href="extensions-declarative-content.html">
            
                    
                    declarative-content
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28" data-path="extensions-proxy.html">
            
                <a href="extensions-proxy.html">
            
                    
                    proxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29" data-path="extensions-declarative-web-request.html">
            
                <a href="extensions-declarative-web-request.html">
            
                    
                    declarative-web-request
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30" data-path="extensions-runtime.html">
            
                <a href="extensions-runtime.html">
            
                    
                    runtime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.31" data-path="extensions-desktop-capture.html">
            
                <a href="extensions-desktop-capture.html">
            
                    
                    desktop-capture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32" data-path="extensions-sessions.html">
            
                <a href="extensions-sessions.html">
            
                    
                    sessions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33" data-path="extensions-devtools-inspected-window.html">
            
                <a href="extensions-devtools-inspected-window.html">
            
                    
                    devtools-inspected-window
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.34" data-path="extensions-signed-in-devices.html">
            
                <a href="extensions-signed-in-devices.html">
            
                    
                    signed-in-devices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35" data-path="extensions-devtools-network.html">
            
                <a href="extensions-devtools-network.html">
            
                    
                    devtools-network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36" data-path="extensions-storage.html">
            
                <a href="extensions-storage.html">
            
                    
                    storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37" data-path="extensions-devtools-panels.html">
            
                <a href="extensions-devtools-panels.html">
            
                    
                    devtools-panels
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38" data-path="extensions-downloads.html">
            
                <a href="extensions-downloads.html">
            
                    
                    downloads
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.39" data-path="extensions-events.html">
            
                <a href="extensions-events.html">
            
                    
                    events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.40" data-path="extensions-experimental.html">
            
                <a href="extensions-experimental.html">
            
                    
                    experimental
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.41" data-path="extensions-tab-capture.html">
            
                <a href="extensions-tab-capture.html">
            
                    
                    tab-capture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.42" data-path="extensions-extension-types.html">
            
                <a href="extensions-extension-types.html">
            
                    
                    extension-types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.43" data-path="extensions-tabs.html">
            
                <a href="extensions-tabs.html">
            
                    
                    tabs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.44" data-path="extensions-extension.html">
            
                <a href="extensions-extension.html">
            
                    
                    extension
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.45" data-path="extensions-top-sites.html">
            
                <a href="extensions-top-sites.html">
            
                    
                    top-sites
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.46" data-path="extensions-font-settings.html">
            
                <a href="extensions-font-settings.html">
            
                    
                    font-settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.47" data-path="extensions-tts-engine.html">
            
                <a href="extensions-tts-engine.html">
            
                    
                    tts-engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.48" data-path="extensions-gcm.html">
            
                <a href="extensions-gcm.html">
            
                    
                    gcm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.49" data-path="extensions-tts.html">
            
                <a href="extensions-tts.html">
            
                    
                    tts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.50" data-path="extensions-history.html">
            
                <a href="extensions-history.html">
            
                    
                    history
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.51" data-path="extensions-types.html">
            
                <a href="extensions-types.html">
            
                    
                    types
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.52" data-path="extensions-i-18-n.html">
            
                <a href="extensions-i-18-n.html">
            
                    
                    i-18-n
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.53" data-path="extensions-web-navigation.html">
            
                <a href="extensions-web-navigation.html">
            
                    
                    web-navigation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.54" data-path="extensions-identity.html">
            
                <a href="extensions-identity.html">
            
                    
                    identity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.55" data-path="extensions-web-request.html">
            
                <a href="extensions-web-request.html">
            
                    
                    web-request
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.56" data-path="extensions-idle.html">
            
                <a href="extensions-idle.html">
            
                    
                    idle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.57" data-path="extensions-webstore.html">
            
                <a href="extensions-webstore.html">
            
                    
                    webstore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.58" data-path="extensions-input-ime.html">
            
                <a href="extensions-input-ime.html">
            
                    
                    input-ime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.59" data-path="extensions-windows.html">
            
                <a href="extensions-windows.html">
            
                    
                    windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.60" data-path="extensions-instance-id.html">
            
                <a href="extensions-instance-id.html">
            
                    
                    instance-id
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >i-18-n</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="whalei18n">whale.i18n</h1>
<table>
<thead>
<tr>
<th>Description:</th>
<th>Use the <code>whale.i18n</code> infrastructure to implement internationalization across your whole app or extension.</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="GLOSSARY.html#availability" class="glossary-term" title="Definition for this term">Availability</a>:</td>
<td>Since Chrome 20.</td>
</tr>
<tr>
<td>Content Scripts:</td>
<td>Fully supported. <a href="content_scripts">Learn more</a></td>
</tr>
</tbody>
</table>
<section>

You need to put all of its user-visible strings into a file named [`messages.json`](i18n-messages). Each time you add a new locale, you add a messages file under a directory named `_locales/_localeCode_`, where _localeCode_ is a code such as `en` for English.

Here&apos;s the file hierarchy for an internationalized extension that supports English (`en`), Spanish (`es`), and Korean (`ko`):

![In the extension directory: manifest.json, *.html, *.js, _locales directory. In the _locales directory: en, es, and ko directories, each with a messages.json file.](/static/images/i18n-hierarchy.gif)

## How to support multiple languages

Say you have an extension with the files shown in the following figure:

![A manifest.json file and a file with JavaScript. The .json file has &quot;name&quot;: &quot;Hello World&quot;. The JavaScript file has title = &quot;Hello World&quot;;](/static/images/i18n-before.gif)

To internationalize this extension, you name each user-visible string and put it into a messages file. The extension&apos;s manifest, CSS files, and JavaScript code use each string&apos;s name to get its localized version.

Here&apos;s what the extension looks like when it&apos;s internationalized (note that it still has only English strings):

![In the manifest.json file, &quot;Hello World&quot; has been changed to &quot;__MSG_extName__&quot;, and a new &quot;default_locale&quot; item has the value &quot;en&quot;. In the JavaScript file, &quot;Hello World&quot; has been changed to whale.i18n.getMessage(&quot;extName&quot;). A new file named _locales/en/messages.json defines &quot;extName&quot;.](/static/images/i18n-after-1.gif)

**Important:** If an extension has a `_locales` directory, the [manifest](manifest) **must** define &quot;default_locale&quot;.

Some notes about internationalizing:

*   You can use any of the [supported locales](#overview-locales). If you use an unsupported locale, Google Chrome ignores it.

*   In `manifest.json` and CSS files, refer to a string named _messagename_ like this:

    <pre class="language-">__MSG__messagename___</pre>

*   In your extension or app&apos;s JavaScript code, refer to a string named _messagename_ like this:

    <pre class="language-">whale.i18n.getMessage(&quot;_messagename_&quot;)</pre>

*   In each call to `getMessage()`, you can supply up to 9 strings to be included in the message. See [Examples: getMessage](#examples-getMessage) for details.

*   Some messages, such as `@@bidi_dir` and `@@ui_locale`, are provided by the internationalization system. See the [Predefined messages](#overview-predefined) section for a full list of predefined message names.

*   In `messages.json`, each user-visible string has a name, a &quot;message&quot; item, and an optional &quot;description&quot; item. The name is a key such as &quot;extName&quot; or &quot;search_string&quot; that identifies the string. The &quot;message&quot; specifies the value of the string in this locale. The optional &quot;description&quot; provides help to translators, who might not be able to see how the string is used in your extension. For example:

    <pre data-filename="messages.json" class="language-">      {
            &quot;search_string&quot;: {
              &quot;message&quot;: &quot;hello%20world&quot;,
              &quot;description&quot;: &quot;The string we search for. Put %20 between words that go together.&quot;
            },
            ...
          }</pre>

    For more information, see [Formats: Locale-Specific Messages](i18n-messages).

Once an extension or app is internationalized, translating it is simple. You copy `messages.json`, translate it, and put the copy into a new directory under `_locales`. For example, to support Spanish, just put a translated copy of `messages.json` under `_locales/es`. The following figure shows the previous extension with a new Spanish translation.

![This looks the same as the previous figure, but with a new file at _locales/es/messages.json that contains a Spanish translation of the messages.](/static/images/i18n-after-2.gif)

## Predefined messages

The internationalization system provides a few predefined messages to help you localize. These include `@@ui_locale`, so you can detect the current UI locale, and a few `@@bidi_...` messages that let you detect the text direction. The latter messages have similar names to constants in the [gadgets BIDI (bi-directional) API](http://code.google.com/apis/gadgets/docs/i18n.html#BIDI).

The special message `@@extension_id` can be used in the CSS and JavaScript files, whether or not the extension or app is localized. This message doesn&apos;t work in manifest files.

The following table describes each predefined message.

| Message name | Description |
|---|---|
| `@@extension_id` | The extension or app ID; you might use this string to construct URLs for resources inside the extension. Even unlocalized extensions can use this message.
**Note:** You can&apos;t use this message in a manifest file. |
| `@@ui_locale` | The current locale; you might use this string to construct locale-specific URLs. |
| `@@bidi_dir` | The text direction for the current locale, either &quot;ltr&quot; for left-to-right languages such as English or &quot;rtl&quot; for right-to-left languages such as Japanese. |
| `@@bidi_reversed_dir` | If the `@@bidi_dir` is &quot;ltr&quot;, then this is &quot;rtl&quot;; otherwise, it&apos;s &quot;ltr&quot;. |
| `@@bidi_start_edge` | If the `@@bidi_dir` is &quot;ltr&quot;, then this is &quot;left&quot;; otherwise, it&apos;s &quot;right&quot;. |
| `@@bidi_end_edge` | If the `@@bidi_dir` is &quot;ltr&quot;, then this is &quot;right&quot;; otherwise, it&apos;s &quot;left&quot;. |

Here&apos;s an example of using `@@extension_id` in a CSS file to construct a URL:

<pre class="language-">      body {
        **background-image:url(&apos;chrome-extension://__MSG_@@extension_id__/background.png&apos;);**
      }
      </pre>

If the extension ID is abcdefghijklmnopqrstuvwxyzabcdef, then the bold line in the previous code snippet becomes:

<pre class="language-">      background-image:url(&apos;chrome-extension://abcdefghijklmnopqrstuvwxyzabcdef/background.png&apos;);
      </pre>

Here&apos;s an example of using `@@bidi_*` messages in a CSS file:

<pre class="language-">      body {
        **direction: __MSG_@@bidi_dir__;**
      }

      div#header {
        margin-bottom: 1.05em;
        overflow: hidden;
        padding-bottom: 1.5em;
        **padding-__MSG_@@bidi_start_edge__: 0;**
        **padding-__MSG_@@bidi_end_edge__: 1.5em;**
        position: relative;
      }
      </pre>

For left-to-right languages such as English, the bold lines become:

<pre class="language-">      dir: ltr;
      padding-left: 0;
      padding-right: 1.5em;
      </pre>

## Locales

You can choose from many locales, including some (such as `en`) that let a single translation support multiple variations of a language (such as `en_GB` and `en_US`).

### Supported locales

You can use any of the [locales that the Chrome Web Store supports](http://code.google.com/chrome/webstore/docs/i18n.html#localeTable).

### Searching for messages

You don&apos;t have to define every string for every supported locale. As long as the default locale&apos;s `messages.json` file has a value for every string, your extension or app will run no matter how sparse a translation is. Here&apos;s how the extension system searches for a message:

1.  Search the messages file (if any) for the user&apos;s preferred locale. For example, when Google Chrome&apos;s locale is set to British English (`en_GB`), the system first looks for the message in `_locales/en_GB/messages.json`. If that file exists and the message is there, the system looks no further.
2.  If the user&apos;s preferred locale has a region (that is, the locale has an underscore: _), search the locale without that region. For example, if the `en_GB` messages file doesn&apos;t exist or doesn&apos;t contain the message, the system looks in the `en` messages file. If that file exists and the message is there, the system looks no further.
3.  Search the messages file for the default locale. For example, if the extension&apos;s &quot;default_locale&quot; is set to &quot;es&quot;, and neither `_locales/en_GB/messages.json` nor `_locales/en/messages.json` contains the message, the extension uses the message from `_locales/es/messages.json`.

In the following figure, the message named &quot;colores&quot; is in all three locales that the extension supports, but &quot;extName&quot; is in only two of the locales. Wherever a user running Google Chrome in US English sees the label &quot;Colors&quot;, a user of British English sees &quot;Colours&quot;. Both US English and British English users see the extension name &quot;Hello World&quot;. Because the default language is Spanish, users running Google Chrome in any non-English language see the label &quot;Colores&quot; and the extension name &quot;Hola mundo&quot;.

![Four files: manifest.json and three messages.json files (for es, en, and en_GB).  The es and en files show entries for messages named &quot;extName&quot; and &quot;colores&quot;; the en_GB file has just one entry (for &quot;colores&quot;).](/static/images/i18n-strings.gif)

### How to set your browser&apos;s locale

To test translations, you might want to set your browser&apos;s locale. This section tells you how to set the locale in [Windows](#testing-win), [Mac OS X](#testing-mac), and [Linux](#testing-linux).

#### Windows

You can change the locale using either a locale-specific shortcut or the Google Chrome UI. The shortcut approach is quicker, once you&apos;ve set it up, and it lets you use several languages at once.

##### Using a locale-specific shortcut

To create and use a shortcut that launches Google Chrome with a particular locale:

1.  Make a copy of the Google Chrome shortcut that&apos;s already on your desktop.
2.  Rename the new shortcut to match the new locale.
3.  Change the shortcut&apos;s properties so that the Target field specifies the `--lang` and `--user-data-dir` flags. The target should look something like this:

    <pre class="language-">_path_to_whale.exe_ --lang=_locale_ --user-data-dir=c:\_locale_profile_dir_</pre>

4.  Launch Google Chrome by double-clicking the shortcut.

For example, to create a shortcut that launches Google Chrome in Spanish (`es`), you might create a shortcut named `chrome-es` that has the following target:

<pre class="language-">_path_to_whale.exe_ --lang=es --user-data-dir=c:\chrome-profile-es</pre>

You can create as many shortcuts as you like, making it easy to test in multiple languages. For example:

<pre class="language-">_path_to_whale.exe_ --lang=en --user-data-dir=c:\chrome-profile-en
      _path_to_whale.exe_ --lang=en_GB --user-data-dir=c:\chrome-profile-en_GB
      _path_to_whale.exe_ --lang=ko --user-data-dir=c:\chrome-profile-ko</pre>

**Note:** Specifying `--user-data-dir` is optional but handy. Having one data directory per locale lets you run the browser in several languages at the same time. A disadvantage is that because the locales&apos; data isn&apos;t shared, you have to install your extension multiple times &#x2014; once per locale, which can be challenging when you don&apos;t speak the language. For more information, see [Creating and Using Profiles](http://www.chromium.org/developers/creating-and-using-profiles).

##### Using the UI

Here&apos;s how to change the locale using the UI on Google Chrome for Windows:

1.  App icon &gt; **Options**
2.  Choose the **Under the Hood** tab
3.  Scroll down to **Web Content**
4.  Click **Change font and language settings**
5.  Choose the **Languages** tab
6.  Use the drop down to set the **Google Chrome language**
7.  Restart Chrome

#### Mac OS X

To change the locale on Mac, you use the system preferences.

1.  From the Apple menu, choose **System Preferences**
2.  Under the **Personal** section, choose **International**
3.  Choose your language and location
4.  Restart Chrome

#### Linux

To change the locale on Linux, first quit Google Chrome. Then, all in one line, set the LANGUAGE environment variable and launch Google Chrome. For example:

<pre class="language-">      LANGUAGE=es ./chrome
      </pre>

## Examples

You can find simple examples of internationalization in the [examples/api/i18n](https://chromium.googlesource.com/chromium/src/+/master/chrome/common/extensions/docs/examples/api/i18n/) directory. For a complete example, see [examples/extensions/news](https://chromium.googlesource.com/chromium/src/+/master/chrome/common/extensions/docs/examples/extensions/news/). For other examples and for help in viewing the source code, see [Samples](samples).

### Examples: getMessage

The following code gets a localized message from the browser and displays it as a string. It replaces two placeholders within the message with the strings &quot;string1&quot; and &quot;string2&quot;.

<pre class="language-">      function getMessage() {
        var message = whale.i18n.getMessage(&quot;click_here&quot;, [&quot;string1&quot;, &quot;string2&quot;]);
        document.getElementById(&quot;languageSpan&quot;).innerHTML = message;
      }
      </pre>

Here&apos;s how you&apos;d supply and use a single string:

<pre class="language-">      _// In JavaScript code_
      status.innerText = whale.i18n.getMessage(&quot;error&quot;, errorDetails);
      </pre>

<pre data-filename="messages.json" class="language-">      &quot;error&quot;: {
        &quot;message&quot;: &quot;Error: $details$&quot;,
        &quot;description&quot;: &quot;Generic error template. Expects error parameter to be passed in.&quot;,
        &quot;placeholders&quot;: {
          &quot;details&quot;: {
            &quot;content&quot;: &quot;$1&quot;,
            &quot;example&quot;: &quot;Failed to fetch RSS feed.&quot;
          }
        }
      }
      </pre>

For more information about placeholders, see the [Locale-Specific Messages](i18n-messages) page. For details on calling `getMessage()`, see the [API reference](/extensions/i18n#method-getMessage).

### Example: getAcceptLanguages

The following code gets accept-languages from the browser and displays them as a string by separating each accept-language with &apos;,&apos;.

<pre class="language-">      function getAcceptLanguages() {
        whale.i18n.getAcceptLanguages(function(languageList) {
          var languages = languageList.join(&quot;,&quot;);
          document.getElementById(&quot;languageSpan&quot;).innerHTML = languages;
        })
      }
      </pre>

For details on calling `getAcceptLanguages()`, see the [API reference](/extensions/i18n#method-getAcceptLanguages).

### Example: detectLanguage

The following code detects up to 3 languages from the given string and displays the result as strings separated by new lines.

<pre class="language-">      function detectLanguage(inputText) {
        whale.i18n.detectLanguage(inputText, function(result) {
          var outputLang = &quot;Detected Language: &quot;;
          var outputPercent = &quot;Language Percentage: &quot;;
          for(i = 0; i &lt; result.languages.length; i++) {
            outputLang += result.languages[i].language + &quot; &quot;;
            outputPercent +=result.languages[i].percentage + &quot; &quot;;
          }
          document.getElementById(&quot;languageSpan&quot;).innerHTML = outputLang + &quot;\n&quot; + outputPercent + &quot;\nReliable: &quot; + result.isReliable;
        });
      }
      </pre>

For more details on calling `detectLanguage(inputText)`, see the [API reference](/extensions/i18n#method-detectLanguage).

</section>

<section id="toc">

## Summary

| Types |
|---|
| [LanguageCode](#type-LanguageCode) |
| Methods |
| [getAcceptLanguages](#method-getAcceptLanguages) &#x2212; `whale.i18n.getAcceptLanguages(<span><a href="GLOSSARY.html#function-callback" class="glossary-term" title="Callback Function.">function callback</a></span>)` |
| [getMessage](#method-getMessage) &#x2212; `string whale.i18n.getMessage(<span>string messageName</span>, <span class="optional">any substitutions</span>)` |
| [getUILanguage](#method-getUILanguage) &#x2212; `string whale.i18n.getUILanguage()` |
| [detectLanguage](#method-detectLanguage) &#x2212; `whale.i18n.detectLanguage(<span>string text</span>, <span><a href="GLOSSARY.html#function-callback" class="glossary-term" title="Callback Function.">function callback</a></span>)` |

</section>

<section>

<div class="api-reference">

## Types

<div>

### LanguageCode

Since Chrome 47.

<dd>string</dd>

<dd>An ISO language code such as `en` or `fr`. For a complete list of languages supported by this method, see [kLanguageInfoTable](http://src.chromium.org/viewvc/chrome/trunk/src/third_party/cld/languages/internal/languages.cc). For an unknown language, `und` will be returned, which means that [percentage] of the text is unknown to CLD</dd>

</div>

## Methods

<div>

### getAcceptLanguages

<div class="summary">`whale.i18n.getAcceptLanguages(<span><a href="GLOSSARY.html#function-callback" class="glossary-term" title="Callback Function.">function callback</a></span>)`</div>

<div class="description">

Gets the accept-languages of the browser. This is different from the locale used by the browser; to get the locale, use [i18n.getUILanguage](/extensions/i18n#method-getUILanguage).

| Parameters |
|---|
| function | callback | 

The _callback_ parameter should be a function that looks like this:

`function(array of [LanguageCode](/extensions/i18n#type-LanguageCode) languages) <span class="subdued">{...}</span>;`

| array of [LanguageCode](/extensions/i18n#type-LanguageCode) | languages | 
|---|---|

Array of LanguageCode
 |
 |

</div>

</div>

<div>

### getMessage

<div class="summary">`string whale.i18n.getMessage(<span>string messageName</span>, <span class="optional">any substitutions</span>)`</div>

<div class="description">

Gets the localized string for the specified message. If the message is missing, this method returns an empty string (&apos;&apos;). If the format of the `getMessage()` call is wrong &#x2014; for example, _messageName_ is not a string or the _substitutions_ array has more than 9 elements &#x2014; this method returns `undefined`.

| Parameters |
|---|
| string | messageName | 

The name of the message, as specified in the [`messages.json`](i18n-messages) file.
 |
| any | <span class="optional">(optional)</span> substitutions | 

Up to 9 substitution strings, if the message requires any.
 |

</div>

</div>

<div>

### getUILanguage

<div class="summary">`string whale.i18n.getUILanguage()`</div>

<div class="description">

Since Chrome 35.

Gets the browser UI language of the browser. This is different from [i18n.getAcceptLanguages](/extensions/i18n#method-getAcceptLanguages) which returns the preferred user languages.

</div>

</div>

<div>

### detectLanguage

<div class="summary">`whale.i18n.detectLanguage(<span>string text</span>, <span><a href="GLOSSARY.html#function-callback" class="glossary-term" title="Callback Function.">function callback</a></span>)`</div>

<div class="description">

Since Chrome 47.

Detects the language of the provided text using CLD.

| Parameters |
|---|
| string | text | 

User input string to be translated.
 |
| function | callback | 

The _callback_ parameter should be a function that looks like this:

`function(object result) <span class="subdued">{...}</span>;`

| object | result | 
|---|---|

LanguageDetectionResult object that holds detected langugae reliability and array of DetectedLanguage

| boolean | isReliable | 
|---|---|

CLD detected language reliability
 |
| array of object | languages | 

array of detectedLanguage

#### Properties of each object

<dl>

<div>

<dd>DetectedLanguage object that holds detected ISO language code and its percentage in the input string</dd>

| [LanguageCode](/extensions/i18n#type-LanguageCode) | language |  |
|---|---|---|
| integer | percentage | 

The percentage of the detected language
 |

</div>

</dl>
 |
 |
 |

</div>

</div>

</div>

</section>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="extensions-types.html" class="navigation navigation-prev " aria-label="Previous page: types">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="extensions-web-navigation.html" class="navigation navigation-next " aria-label="Next page: web-navigation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"i-18-n","level":"1.52","depth":1,"next":{"title":"web-navigation","level":"1.53","depth":1,"path":"extensions-web-navigation.md","ref":"extensions-web-navigation.md","articles":[]},"previous":{"title":"types","level":"1.51","depth":1,"path":"extensions-types.md","ref":"extensions-types.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-pro","-highlight","prism","codepen","jsbin"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"search-pro":{},"prism":{},"codepen":{},"jsbin":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"customConfig":{"logo":"/images/logo.png","favicon":"/images/favicon.png"},"variables":{},"gitbook":"*"},"file":{"path":"extensions-i-18-n.md","mtime":"2017-11-22T08:34:09.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-11-23T07:32:35.094Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-codepen/embed-codepen.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-jsbin/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

